<html>
<head>
	
<head>
  <link rel="stylesheet" type="text/css" href="../complat.css">
  <meta charset="UTF-8">
<script>
  https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js
</script>
<script>
    alphabet = new Array("A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "1", "2", "3", "4", "5", "6", "7", "8", "9", "0");
letter_count = 0;
el = $("#loading");
word = el.html().trim();
finished = false;

el.html("");
for (var i = 0; i < word.length; i++) {
  el.append("<span>"+word.charAt(i)+"</span>");
}

setTimeout(write, 75);
incrementer = setTimeout(inc, 1000);

function write() {
  for (var i = letter_count; i < word.length; i++) {
    var c = Math.floor(Math.random() * 36);
    $("span")[i].innerHTML = alphabet[c];
  }
  if (!finished) {
    setTimeout(write, 75);
  }
}

function inc() {
  $("span")[letter_count].innerHTML = word[letter_count];
  $("span:eq("+letter_count+")").addClass("glow");
  letter_count++;
  if (letter_count >= word.length) {
    finished = true;
    setTimeout(reset, 1500);
  } else {
    setTimeout(inc, 1000);
  }
}

function reset() {
  letter_count = 0;
  finished = false;
  setTimeout(inc, 1000);
  setTimeout(write, 75);
  $("span").removeClass("glow");
}
</script>

</head>

<body>
  
<h1>PLATAFORMA DE COMUNICACIÓN SEGURA</h1>
<p><strong>Mensaje de:</strong> El SiD<br>
<strong>Recibido:</strong> Hoy a las 08:12<br>
los calendarios me fascinan. A ellos también. Quedamos el próximo año en el que el 26 de agosto sea un jueves. De momento esto es todo.
</p>

<p>

  <img src="moya.jpg">
</p>
<form action="./5.html" method="get">
 <ul>
  <li>
    <label for="name">YYYYMMDDHHMM</label>
    <input type="text" id="name" name="name" required pattern="202103241444">
  </li>
  <li class="button">
  <button type="submit">Enviar</button>
  <script>
  	const nameInput = document.querySelector('input');
const form = document.querySelector('form');

nameInput.addEventListener('input', () => {
  nameInput.setCustomValidity('');
  nameInput.checkValidity();
});

nameInput.addEventListener('invalid', () => {
  if(nameInput.value === '') {
    nameInput.setCustomValidity("Entra algo");
  } else {
    nameInput.setCustomValidity('Respuesta incorrecta');
  }
});
</script>
</li>
</ul>
</form>

</body>
</html>